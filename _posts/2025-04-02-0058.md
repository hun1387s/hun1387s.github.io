---
layout: single
title:  "Unity) 파티클을 활용한 흙먼지 효과 제작"
categories: Unity
tag: [Unity, C#, HLSL, Shader]
author_profile: true # true
use_math: true
search: true # false
typora-root-url: ../바
---



게임을 플레이하다 보면, 캐릭터의 움직임 하나에도 생동감이 느껴지는 경우가 있다. 특히 달리는 동작 중 바닥에 닿는 발걸음마다 흙먼지가 일어나는 연출은, 사소하지만 몰입도를 크게 높여주는 요소 중 하나다. 이번에는 그러한 느낌을 구현하기 위해, 파티클 시스템을 이용한 흙먼지 이펙트를 제작해보았다.



## 목표

> 발걸음으로 일어나는 흙먼지 이펙트를 파티클을 통해 **툰 느낌**으로 제작해보려 했다.



### 결과물 미리보기

일단 결과물 부터 보면 이렇다.

![2025_04_02_16_06_50_1](/../images/2025-04-02-0058/2025_04_02_16_06_50_1.gif)

달릴 때마다 발 아래에서 작게 흙먼지가 일어나며, 애니메이션과 어우러져 생동감을 더한다. 

너무 과하지 않게, 하지만 명확하게 시선을 끌 수 있도록 연출하는 데 신경을 썼다.





## 셰이더 제작

먼저 파티클 머터리얼에 들어갈 셰이더를 제작해봤다.

URP의 Unlit ShaderGraph를 이용했다.

![image-20250402162639786](/../images/2025-04-02-0058/image-20250402162639786.png)

툰 렌더링에 어울리는 텍스처와 컬러 조합을 통해 강한 명암 대비를 주었으며, 커스텀 연산을 통해 알파 블렌딩이 부드럽게 적용되도록 했다.
특히 파티클에서 `ColorOverLifetime` 을 통해 `Gradient` 효과를 활용하여 시간에 따라 색이 자연스럽게 흐려지는 효과를 주었으며, `Noise` 텍스처로 불규칙한 흙먼지의 형태를 구현했다.



## 파티클 설정

파티클의 실제 사용을 위해, Unity의 `Particle System`을 이용해 설정을 진행했다.

![image-20250402164012825](/../images/2025-04-02-0058/image-20250402164012825.png)

캐릭터마다, 프레임마다 다양한 변수에 대응하기 위해 파티클 관련 스크립트를 통해 각자의 고유한 파티클을 제작할 수 있게 했다.

- **Duration**: 0.3초로 짧게 설정하여 흙먼지가 순간적으로 일어나는 느낌을 연출
- **Color Over Lifetime**: 시작은 불투명하게, 점차 흐려지면서 사라지는 흐름을 구성
- **Delay**: 캐릭터 애니메이션의 발 내딛는 타이밍과 맞추기 위해 0.2초 지연 삽입



----

## 마무리

처음에는 단순히 먼지가 일어나게 해보자는 생각으로 시작했지만, 툰 렌더링 스타일과 잘 어울리는 방향으로 구현하다 보니 시각적으로도 만족스러운 결과물이 나왔다. 

특히 캐릭터의 동작에 감정과 질감을 불어넣는 데 있어, 파티클 이펙트는 꽤나 중요한 역할을 한다는 걸 다시 한번 느꼈다.

향후에는 지면의 재질에 따라 파티클이 바뀌는 시스템까지 구현해볼 계획이다. 

예를 들어, 잔디 위에서는 풀잎이 튀고, 모래 위에서는 연갈색 먼지가 일어나는 방식이다.

작지만 임팩트 있는 디테일. 그 하나하나가 모여 진짜 살아있는 캐릭터가 만들어진다.